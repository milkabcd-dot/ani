<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>住转 注 - 爪注 专 驻专!</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            margin: 0;
            padding: 20px;
            text-align: center;
            color: #444;
        }
        .main-card {
            background: white;
            max-width: 700px;
            margin: 0 auto;
            padding: 30px;
            border-radius: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 5px solid #fff;
        }
        h1 { color: #d81b60; font-size: 2.5em; margin-bottom: 10px; }
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
            background: #fff5f8;
            padding: 20px;
            border-radius: 20px;
        }
        .btn-upload {
            background: #ff4081;
            color: white;
            padding: 12px;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            transition: 0.3s;
        }
        .btn-upload:hover { background: #f50057; }
        select {
            padding: 10px;
            border-radius: 50px;
            border: 2px solid #ff4081;
            font-size: 16px;
            outline: none;
        }
        canvas {
            max-width: 100%;
            height: auto;
            border-radius: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }
        .footer { margin-top: 20px; font-weight: bold; color: #d81b60; }
    </style>
</head>
<body>

<div class="main-card">
    <h1> 住转 砖 专转!</h1>
    <p> 专  转 专 转专  专注 住转 注!</p>

    <div class="controls">
        <label class="btn-upload">
             注 转 
            <input type="file" id="imageInput" accept="image/*" style="display:none">
        </label>
        
        <select id="warningType">
            <option value="wasp"> 爪-砖专 (爪专注)</option>
            <option value="ladybug"> -砖专 (驻专转 砖 专)</option>
            <option value="monarch"> 转-砖专 (驻专驻专 专)</option>
        </select>
    </div>

    <canvas id="canvas"></canvas>
    <div class="footer">砖拽 砖 </div>
</div>

<script>
    const imageInput = document.getElementById('imageInput');
    const warningType = document.getElementById('warningType');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let currentImg = null;

    imageInput.addEventListener('change', (e) => {
        const reader = new FileReader();
        reader.onload = (event) => {
            const img = new Image();
            img.onload = () => {
                currentImg = img;
                render();
            };
            img.src = event.target.result;
        };
        reader.readAsDataURL(e.target.files[0]);
    });

    warningType.addEventListener('change', render);

    function render() {
        if (!currentImg) return;

        canvas.width = currentImg.width;
        canvas.height = currentImg.height;
        canvas.style.display = 'inline-block';

        // 1. 爪注 转 转 拽专转
        ctx.drawImage(currentImg, 0, 0);

        // 2. 爪专 转 驻住 爪注 专 (拽  拽 砖转转)
        const type = warningType.value;
        const tempCanvas = document.createElement('canvas');
        const tCtx = tempCanvas.getContext('2d');
        tempCanvas.width = 60;
        tempCanvas.height = 60;

        if (type === 'wasp') {
            tCtx.fillStyle = "#ffcc00";
            tCtx.fillRect(0,0,60,60);
            tCtx.fillStyle = "#000";
            tCtx.fillRect(0,0,60,30);
        } else if (type === 'ladybug') {
            tCtx.fillStyle = "#ff0000";
            tCtx.fillRect(0,0,60,60);
            tCtx.fillStyle = "#000";
            tCtx.beginPath();
            tCtx.arc(30, 30, 15, 0, Math.PI * 2);
            tCtx.fill();
        } else {
            tCtx.fillStyle = "#ff6600";
            tCtx.fillRect(0,0,60,60);
            tCtx.strokeStyle = "#000";
            tCtx.lineWidth = 8;
            tCtx.strokeRect(0,0,60,60);
        }

        const pattern = ctx.createPattern(tempCanvas, 'repeat');
        
        // 3. 砖 转 驻专 注 转 爪专 注转
        ctx.save();
        ctx.globalAlpha = 0.5; // 砖拽驻转  专转 转 驻/祝
        ctx.globalCompositeOperation = 'overlay'; // 砖 转 拽住专
        ctx.fillStyle = pattern;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.restore();
    }
</script>

</body>
</html>
