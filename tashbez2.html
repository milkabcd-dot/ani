<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>转砖抓 拽专 - 专住 住驻转</title>
    <style>
        :root { 
            --c: 6.8vw; 
            --primary: #2c5282; 
            --bg-page: #e0f7fa;    
            --bg-defs: #fff9c4;    
            --bg-board: #dcedc8;   
        }
        @media (min-width: 600px) { :root { --c: 38px; } }
        
        body { 
            font-family: system-ui, sans-serif; 
            background: var(--bg-page); 
            margin: 0; padding: 10px; 
            display: flex; flex-direction: column; align-items: center; 
        }

        .header-section { text-align: center; margin-bottom: 20px; }
        h2 { margin: 0; color: #2c5282; font-size: 1.4rem; }
        .credit { margin: 5px 0 0 0; font-size: 0.95rem; color: #4a5568; }

        #definition-display { 
            width: 90%; max-width: 500px; min-height: 80px; 
            background: var(--bg-defs); 
            border: 2px solid #fbc02d; 
            border-radius: 12px; padding: 12px; margin-bottom: 25px; 
            text-align: center; font-weight: bold; display: flex; 
            align-items: center; justify-content: center; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
            font-size: 0.95rem; line-height: 1.4; color: #2d3748; 
        }

        .board-container { width: 100%; display: flex; justify-content: center; padding-bottom: 40px; }
        
        .board { 
            position: relative; 
            width: calc(14 * var(--c)); 
            height: calc(16 * var(--c)); 
            background: var(--bg-board); 
            border: 1.5px solid #2d3748;
        }

        .cell { position: absolute; width: var(--c); height: var(--c); background: white; border: 0.5px solid #2d3748; box-sizing: border-box; }
        .num { position: absolute; top: 0; right: 1px; font-size: calc(var(--c) * 0.35); font-weight: bold; color: #3182ce; z-index: 5; pointer-events: none; }
        
        input { width: 100%; height: 100%; border: none; text-align: center; font-size: calc(var(--c) * 0.6); font-weight: bold; background: transparent; outline: none; padding: 0; color: #2d3748; -webkit-appearance: none; border-radius: 0; }
        input.is-correct { background-color: #48bb78 !important; color: white !important; }
        input.is-wrong { background-color: #fc8181 !important; color: white !important; }

        /* 注转 住 专 */
        .success-message {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ff69b4; /* 专  (Hot Pink) */
            color: white;
            padding: 25px 50px;
            border-radius: 30px;
            font-size: 2.2rem;
            font-weight: bold;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            z-index: 1000;
            text-align: center;
            border: 4px solid white;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="header-section">
        <h2>转砖抓 拽专</h2>
        <p class="credit">注专:  专拽 专砖</p>
    </div>
    <div id="definition-display">爪 注 砖爪转 注 住驻专  专转 转 专 转.</div>
    
    <div class="board-container">
        <div class="board" id="board"></div>
    </div>

    <div id="success-msg" class="success-message"> ! </div>

<script>
    const defs = { 
        "1":"1 : 砖 爪 , 注 砖砖 砖专 驻转 专  .",
        "2":"2 : 转 砖砖 砖专  转 驻 注.",
        "3":"3 :  住 专 拽 专, 注 砖专 转注 爪.",
        "4":"4 : 驻专砖 : 拽.",
        "5":"5 : 驻专砖 : 住. | : 砖: 注爪转 拽转 转  拽 驻转 专 ...",
        "6":"6 : 专 祝 驻, 砖砖 砖专 转 专  转注.",
        "7":"7 : 住 注  拽, 砖专转 拽爪 驻转 ,  拽 专.",
        "8":"8 : 注  , 砖专转 住 驻转 拽 爪注 驻住 .",
        "9":"9 : 拽爪 砖 专拽,  砖专 驻转 爪专 注 爪注 驻拽.",
        "10":"10 : 砖 爪专 (注专转) 砖爪 砖专转 专注 砖爪 驻专转 .",
        "11":"11 : 爪专 驻拽 拽专 砖 拽. | : 拽 注驻驻, 转拽砖专 爪注转 住专.",
        "12":"12 : 住 爪驻专, 砖专转 砖驻专 转 专转 专 驻.",
        "13":"13 : 砖专转  注专 驻转 砖  转驻爪转 拽 拽 ."
    };

    const cellData = [
        {x:8,y:1,n:1,a:""},{x:7,y:1,a:""},{x:6,y:1,n:2,a:""},{x:5,y:1,a:""},{x:4,y:1,a:"住"},
        {x:6,y:2,a:"专"},{x:6,y:3,a:""},{x:6,y:4,a:""},{x:6,y:5,a:""},{x:6,y:6,a:""},{x:6,y:7,a:""},
        {x:7,y:3,n:8,a:"砖"},{x:5,y:3,a:""},{x:4,y:3,a:""},{x:3,y:3,a:"转"},
        {x:10,y:6,n:9,a:"驻"},{x:9,y:6,a:"专"},{x:8,y:6,a:"驻"},{x:7,y:6,a:"专"},{x:5,y:6,a:""},
        {x:9,y:4,n:7,a:""},{x:9,y:5,a:""},{x:9,y:7,a:""},{x:9,y:8,a:""},
        {x:10,y:4,n:6,a:""},{x:8,y:4,a:"拽"},
        {x:12,y:8,n:10,a:"爪"},{x:11,y:8,a:""},{x:10,y:8,a:""},{x:9,y:8,a:""},
        {x:2,y:1,n:3,a:""},{x:1,y:1,n:4,a:""},{x:0,y:1,a:"砖"},
        {x:1,y:2,a:""},{x:1,y:3,a:"拽"},{x:1,y:4,a:""},{x:1,y:5,a:""},
        {x:2,y:5,n:5,a:""}, {x:1,y:5,a:""}, {x:0,y:5,a:""}, {x:-1,y:5,a:""},
        {x:2,y:6,a:""},{x:2,y:7,a:"拽"},{x:2,y:8,a:""},{x:2,y:9,a:""},
        {x:5,y:8,n:11,a:"注"},{x:4,y:8,a:""},{x:3,y:8,a:""},{x:2,y:8,a:""},{x:1,y:8,a:"砖"},
        {x:5,y:9,a:""},{x:5,y:10,a:""},{x:5,y:11,a:"驻"},{x:5,y:12,a:""},{x:5,y:13,a:""},
        {x:6,y:10,n:12,a:"砖"},{x:5,y:10,a:""},{x:4,y:10,a:""},{x:3,y:10,a:""},
        {x:7,y:12,n:13,a:""},{x:6,y:12,a:"专"},{x:5,y:12,a:""},{x:4,y:12,a:"砖"}
    ];

    const norm = {"":"","":"","祝":"驻","抓":"爪","":""};
    const board = document.getElementById('board');
    const usedPos = new Set();
    const allInputs = [];

    function checkCompletion() {
        const isComplete = allInputs.every(input => {
            const val = input.value.trim();
            const ans = input.dataset.answer;
            return (norm[val] || val) === (norm[ans] || ans);
        });
        
        if (isComplete) {
            document.getElementById('success-msg').style.display = 'block';
        }
    }

    cellData.forEach(p => {
        const key = `${p.x},${p.y}`;
        if (usedPos.has(key)) return;
        usedPos.add(key);

        const div = document.createElement('div');
        div.className = 'cell';
        div.style.left = `calc(${p.x + 1} * var(--c))`;
        div.style.top = `calc(${p.y} * var(--c))`;
        
        if(p.n){
            const s = document.createElement('span');
            s.className = 'num';
            s.innerText = p.n;
            div.appendChild(s);
        }

        const input = document.createElement('input');
        input.maxLength = 1;
        input.dataset.answer = p.a;
        allInputs.push(input);

        input.onfocus = () => { if(p.n) document.getElementById('definition-display').innerText = defs[p.n]; };
        
        input.oninput = () => {
            let val = input.value.trim();
            let ans = input.dataset.answer;
            input.classList.remove('is-correct', 'is-wrong');
            if (!val) return;
            if ((norm[val] || val) === (norm[ans] || ans)) {
                input.classList.add('is-correct');
                checkCompletion();
            } else {
                input.classList.add('is-wrong');
            }
        };
        div.appendChild(input);
        board.appendChild(div);
    });
</script>
</body>
</html>
