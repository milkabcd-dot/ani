<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>תשבץ ביומימיקרי אינטראקטיבי</title>
    <style>
        :root { 
            --c: 7.5vw; 
            --bg: #f0f4f8;
            --primary: #2c5282;
            --accent: #3182ce;
        }
        @media (min-width: 600px) { :root { --c: 42px; } }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: var(--bg); 
            margin: 0; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .header { text-align: center; margin-bottom: 10px; }
        h2 { font-size: 1.3rem; color: var(--primary); margin: 5px 0; }

        #definition-display {
            width: 95%;
            max-width: 600px;
            min-height: 70px;
            background: white;
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1rem;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #2d3748;
        }

        .board { 
            position: relative; 
            width: calc(14 * var(--c)); 
            height: calc(15 * var(--c)); 
            background: #cbd5e0; 
            border: 3px solid #2d3748;
            margin: 0 auto;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .cell { 
            position: absolute; 
            width: var(--c); 
            height: var(--c); 
            background: white; 
            border: 1px solid #2d3748; 
            box-sizing: border-box; 
        }

        .num {
            position: absolute;
            top: 1px; right: 2px;
            font-size: calc(var(--c) * 0.28);
            font-weight: bold;
            color: var(--accent);
            z-index: 5;
            pointer-events: none;
        }

        input {
            width: 100%; height: 100%;
            border: none; text-align: center;
            font-size: calc(var(--c) * 0.55);
            font-weight: bold; background: transparent;
            outline: none; color: #1a202c;
            padding: 0; margin: 0;
        }

        input:focus { background: #ebf8ff; }

        .type-tag {
            font-size: 0.75rem;
            color: white;
            background: var(--primary);
            padding: 2px 8px;
            border-radius: 4px;
            margin-bottom: 5px;
            display: inline-block;
        }
    </style>
</head>
<body>

    <div class="header">
        <h2>תשבץ ביומימיקרי</h2>
    </div>

    <div id="definition-display">לחצו על מספר להתחלת המשחק</div>

    <div class="board" id="board"></div>

    <script>
        const definitions = {
            // מאוזן
            "1-h": { type: "מאוזן", text: "שם צמח מים, עליו משמשים השראה לפתוח חומרים דוחי מים." },
            "3-h": { type: "מאוזן", text: "כינוי לסוג רובוט דק וארוך, בעל כושר תנועה וצילום." },
            "8-h": { type: "מאוזן", text: "בעל חיים זוחל, בהשראתו מנסים לפתח דבקים ואמצעים לטיפוס לגובה." }, // תוקן מ-5 ל-8
            "6-h": { type: "מאוזן", text: "איבר בגוף הפיל, שימש השראה לבניית רובוט לאחיזה ותנועה." },
            "5-h": { type: "מאוזן", text: "פירוש המילה: ביוס." }, // תוקן מ-8 ל-5 (התאמה לוגית להגדרה שנותרה)
            "9-h": { type: "מאוזן", text: "קבוצה של חרקים, מהווים השראה לפיתוח מוצרים בעלי צבעים פיזיקליים." },
            "10-h": { type: "מאוזן", text: "שם מוצר (בעברית) שהומצא בהשראת זרעים שנצמדו לפרוות כלב." },
            "11-h": { type: "מאוזן", text: "יצור המפיק קורים גמישים וחזקים." },
            "12-h": { type: "מאוזן", text: "סוג ציפור, בהשראתו שופרה חזות הרכבת המהירה ביפן כמענה לבעיית רעש." },
            "13-h": { type: "מאוזן", text: "בהשראת מבנה עורו פותחו משטחים דוחי תפוצת חיידקים ומקטיני חיכוך." },
            
            // מאונך
            "2-v": { type: "מאונך", text: "תליהם שמשו השראה לבנייה ממוזגת באופן טבעי." },
            "4-v": { type: "מאונך", text: "פירוש המילה: מימטיקה." },
            "7-v": { type: "מאונך", text: "סוג בעל חיים יונק, בהשראת קוציו מפתחים מחטים, חוטים ודבקים כירוגיים." },
            "6-v": { type: "מאונך", text: "השלימו: עצמות וקונכיות מהוות מודל חיקוי לפתוח חומרים ומבנים..." }, // תוקן מ-8 ל-6
            "11-v": { type: "מאונך", text: "יונקים מעופפים, מתקשרים באמצעות סונאר." }
        };

        const skeleton = [
            {x:8, y:1, n:1, d:"1-h"}, {x:7, y:1}, {x:6, y:1, n:2, d:"2-v"}, {x:5, y:1}, {x:4, y:1},
            {x:6, y:2}, {x:6, y:3}, {x:6, y:4}, {x:6, y:5}, {x:6, y:6}, {x:6, y:7},
            {x:7, y:3, n:8, d:"8-h"}, {x:6, y:3}, {x:5, y:3}, {x:4, y:3}, {x:3, y:3}, // 8 במקום 5
            {x:10, y:6, n:9, d:"9-h"}, {x:9, y:6}, {x:8, y:6}, {x:7, y:6}, {x:6, y:6}, {x:5, y:6},
            {x:9, y:4, n:7, d:"7-v"}, {x:9, y:5}, {x:9, y:7}, {x:9, y:8},
            {x:10, y:4, n:6, d:"6-h"}, {x:8, y:4}, // 6 במקום 8
            {x:12, y:8, n:10, d:"10-h"}, {x:11, y:8}, {x:10, y:8},
            {x:2, y:1, n:3, d:"3-h"}, {x:1, y:1, n:4, d:"4-v"}, {x:0, y:1},
            {x:1, y:2}, {x:1, y:3}, {x:1, y:4}, {x:1, y:5},
            {x:2, y:5, n:5, d:"5-h"}, {x:0, y:5}, {x:-1, y:5}, // 5 כאן
            {x:2, y:6}, {x:2, y:7}, {x:2, y:8}, {x:2, y:9},
            {x:5, y:8, n:11, d:"11-h"}, {x:4, y:8}, {x:3, y:8}, {x:2, y:8}, {x:1, y:8},
            {x:5, y:9}, {x:5, y:10}, {x:5, y:11}, {x:5, y:12}, {x:5, y:13},
            {x:6, y:10, n:12, d:"12-h"}, {x:5, y:10}, {x:4, y:10}, {x:3, y:10},
            {x:7, y:12, n:13, d:"13-h"}, {x:6, y:12}, {x:5, y:12}, {x:4, y:12}
        ];

        const board = document.getElementById('board');
        const display = document.getElementById('definition-display');

        function showDef(id) {
            const def = definitions[id];
            if (def) {
                display.innerHTML = `<span class="type-tag">${def.type}</span><br>${def.text}`;
            }
        }

        skeleton.forEach(pos => {
            const div = document.createElement('div');
            div.className = 'cell';
            div.style.left = `calc(${(pos.x + 1)} * var(--c))`;
            div.style.top = `calc(${(pos.y)} * var(--c))`;
            
            if(pos.n) {
                const span = document.createElement('span');
                span.className = 'num';
                span.innerText = pos.n;
                div.appendChild(span);
            }

            const input = document.createElement('input');
            input.maxLength = 1;
            input.onfocus = () => {
                if(pos.d) showDef(pos.d);
                // זיהוי מיוחד ל-11 ו-6 שיש להם גם מאונך
                if(pos.n === 11) showDef("11-h"); 
                if(pos.n === 6 && pos.x === 10) showDef("6-h");
                if(pos.n === 6 && pos.x === 9) showDef("6-v");
            };

            div.appendChild(input);
            board.appendChild(div);
        });
    </script>
</body>
</html>
