<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>תשבץ ביומימיקרי אינטראקטיבי</title>
    <style>
        :root { 
            --c: 8vw; /* גודל דינמי לפי רוחב המסך למניעת גלילה */
            --bg: #f0f4f8;
            --primary: #2c5282;
        }
        @media (min-width: 600px) { :root { --c: 45px; } }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: var(--bg); 
            margin: 0; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            overflow-x: hidden; /* מונע תזוזה ימינה ושמאלה */
            touch-action: manipulation;
        }

        .header { text-align: center; margin-bottom: 15px; }
        h2 { font-size: 1.4rem; color: var(--primary); margin: 5px 0; }

        /* תיבת הגדרה צפה */
        #definition-display {
            width: 90%;
            max-width: 500px;
            min-height: 60px;
            background: white;
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2d3748;
            transition: all 0.3s ease;
        }

        .board { 
            position: relative; 
            width: calc(14 * var(--c)); 
            height: calc(15 * var(--c)); 
            background: #cbd5e0; 
            border: 2px solid #2d3748;
            margin: 0 auto;
        }
        
        .cell { 
            position: absolute; 
            width: var(--c); 
            height: var(--c); 
            background: white; 
            border: 1px solid #2d3748; 
            box-sizing: border-box; 
        }

        .num {
            position: absolute;
            top: 1px; right: 2px;
            font-size: calc(var(--c) * 0.25);
            font-weight: bold;
            color: #3182ce;
            z-index: 5;
        }

        input {
            width: 100%; height: 100%;
            border: none; text-align: center;
            font-size: calc(var(--c) * 0.5);
            font-weight: bold; background: transparent;
            outline: none; color: #1a202c;
            padding: 0; margin: 0;
            text-transform: uppercase;
        }

        input:focus { background: #ebf8ff; }

        .hint { font-size: 0.8rem; color: #718096; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="header">
        <h2>תשבץ ביומימיקרי</h2>
    </div>

    <div id="definition-display">לחצו על משבצת עם מספר כדי לראות את ההגדרה</div>

    <div class="board" id="board"></div>

    <p class="hint">התשבץ מותאם לגודל המסך שלך.</p>

    <script>
        const definitions = {
            "1": { type: "מאוזן", text: "שם צמח מים, עליו משמשים השראה לפתוח חומרים דוחי מים." },
            "3": { type: "מאוזן", text: "כינוי לסוג רובוט דק וארוך, בעל כושר תנועה וצילום." },
            "5": { type: "מאוזן", text: "בעל חיים זוחל, בהשראתו מנסים לפתח דבקים ואמצעים לטיפוס לגובה." },
            "6": { type: "מאוזן", text: "איבר בגוף הפיל, שימש השראה לבניית רובוט לאחיזה ותנועה." },
            "8": { type: "מאוזן", text: "פירוש המילה: ביוס." },
            "9": { type: "מאוזן", text: "קבוצה של חרקים, מהווים השראה לפיתוח מוצרים בעלי צבעים פיזיקליים." },
            "10": { type: "מאוזן", text: "שם מוצר (בעברית) שהומצא בהשראת זרעים שנצמדו לפרוות כלב." },
            "11": { type: "מאוזן", text: "יצור המפיק קורים גמישים וחזקים." },
            "12": { type: "מאוזן", text: "סוג ציפור, בהשראתו שופרה חזות הרכבת המהירה ביפן כמענה לבעיית רעש." },
            "13": { type: "מאוזן", text: "בהשראת מבנה עורו פותחו משטחים דוחי תפוצת חיידקים ומקטיני חיכוך." },
            "2": { type: "מאונך", text: "תליהם שמשו השראה לבנייה ממוזגת באופן טבעי." },
            "4": { type: "מאונך", text: "פירוש המילה: מימטיקה." },
            "7": { type: "מאונך", text: "סוג בעל חיים יונק, בהשראת קוציו מפתחים מחטים, חוטים ודבקים כירוגיים." },
            "8v": { type: "מאונך", text: "השלימו: עצמות וקונכיות מהוות מודל חיקוי לפתוח חומרים ומבנים..." },
            "11v": { type: "מאונך", text: "יונקים מעופפים, מתקשרים באמצעות סונאר." }
        };

        const skeleton = [
            {x:8, y:1, n:1}, {x:7, y:1}, {x:6, y:1, n:2}, {x:5, y:1}, {x:4, y:1},
            {x:6, y:2}, {x:6, y:3}, {x:6, y:4}, {x:6, y:5}, {x:6, y:6}, {x:6, y:7},
            {x:7, y:3, n:5}, {x:6, y:3}, {x:5, y:3}, {x:4, y:3}, {x:3, y:3},
            {x:10, y:6, n:9}, {x:9, y:6}, {x:8, y:6}, {x:7, y:6}, {x:6, y:6}, {x:5, y:6},
            {x:9, y:4, n:7}, {x:9, y:5}, {x:9, y:7}, {x:9, y:8},
            {x:10, y:4, n:8}, {x:8, y:4},
            {x:12, y:8, n:10}, {x:11, y:8}, {x:10, y:8},
            {x:2, y:1, n:3}, {x:1, y:1, n:4}, {x:0, y:1},
            {x:1, y:2}, {x:1, y:3}, {x:1, y:4}, {x:1, y:5},
            {x:2, y:5, n:5}, {x:0, y:5}, {x:-1, y:5},
            {x:2, y:6}, {x:2, y:7}, {x:2, y:8}, {x:2, y:9},
            {x:5, y:8, n:11}, {x:4, y:8}, {x:3, y:8}, {x:2, y:8}, {x:1, y:8},
            {x:5, y:9}, {x:5, y:10}, {x:5, y:11}, {x:5, y:12}, {x:5, y:13},
            {x:6, y:10, n:12}, {x:5, y:10}, {x:4, y:10}, {x:3, y:10},
            {x:7, y:12, n:13}, {x:6, y:12}, {x:5, y:12}, {x:4, y:12}
        ];

        const board = document.getElementById('board');
        const display = document.getElementById('definition-display');

        function showDef(num) {
            // טיפול במקרים של מספרים זהים במאונך/מאוזן אם יש
            const def = definitions[num];
            if (def) {
                display.innerHTML = `<strong>${def.type} (${num.replace('v','')}):</strong> ${def.text}`;
                display.style.backgroundColor = def.type === "מאוזן" ? "#e3f2fd" : "#f1f8e9";
            }
        }

        skeleton.forEach(pos => {
            const div = document.createElement('div');
            div.className = 'cell';
            div.style.left = `calc(${(pos.x + 1)} * var(--c))`;
            div.style.top = `calc(${(pos.y)} * var(--c))`;
            
            if(pos.n) {
                const span = document.createElement('span');
                span.className = 'num';
                span.innerText = pos.n;
                div.appendChild(span);
                
                // לחיצה על התא מציגה הגדרה
                div.onclick = () => showDef(pos.n.toString());
            }

            const input = document.createElement('input');
            input.maxLength = 1;
            input.onfocus = () => {
                if(pos.n) showDef(pos.n.toString());
            };

            div.appendChild(input);
            board.appendChild(div);
        });
    </script>
</body>
</html>
